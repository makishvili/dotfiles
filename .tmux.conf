# Основные настройки  --------------------------------------------------------------
setw -g aggressive-resize on
set -g set-titles on                                    # Разрешить смену заголовков в оконном менеджере
set -g set-titles-string "tmux.#I.#W"                   # Формат строки заголовка

set -g base-index 1                                     # Начинать отсчёт окон с первого

set -g history-limit 10000                               # Размер буфера в линиях

set -g bell-action any                                  # Следить за активностью на всех окнах

setw -g monitor-activity on                             # Информировать когда есть активность в окнах
set -g visual-activity on                               # Показывать статусное сообщение при активности в каком либо окне

set -g repeat-time 200

set-option -g update-environment "SSH_ASKPASS SSH_AUTH_SOCK SSH_AGENT_PID SSH_CONNECTION"

# reload config without killing server
bind r source-file ~/.tmux.conf

# Статусбар -------------------------------------------------------------------
set -g display-time 1000                                # Время в миллисекундах, сколько будут отображаться сообщения (в статусбаре к примеру)

# Цвета  ---------------------------------------------------------------------
set -g default-terminal "xterm-256color"

# fiddle with colors of status bar
set -g status-fg white
set -g status-bg colour234

# fiddle with colors of inactive windows
setw -g window-status-fg cyan
setw -g window-status-bg colour234
setw -g window-status-attr dim

# change color of active window
setw -g window-status-current-fg white
setw -g window-status-current-bg colour23
setw -g window-status-current-attr bright

# set color of regular and active panes
set -g pane-border-fg colour238
set -g pane-border-bg default
set -g pane-active-border-fg green
set -g pane-active-border-bg default

# set color of command line
set -g message-fg white
set -g message-bg colour22
set -g message-attr bright

# configure contents of status bar
set -g status-utf8 on
set -g status-left-length 40

set -g status-left "#[fg=green]\"#S\""
set -g status-right "#[fg=green] #h | %d.%m.%Y %R"

setw -g monitor-activity on
set -g visual-activity on
#set -g status-justify centre


# Клавиатурные сочетания -----------------------------------------------------------------
setw -g xterm-keys on                                   # Чтоб в виме работали Alt и Control

#unbind C-b                                              # "Разбиндинг" префикса по умолчанию
# set -g prefix C-a                                       # Новый префикс для всех комбинаций клавиш - Ctrl-a
bind C-b last-window                                    # Переход к предыдущему окну

bind-key k confirm kill-window                          # Подтверждать уничтожение окна
bind-key K confirm kill-server                          # Подтверждать уничтожение сервера

bind | split-window -h                                  # Разбиваем окно по вертикали
bind - split-window -v                                  # И по горизонтали

# Навигация в командной строке, и в списке окон как в vi
set -g status-keys vi
setw -g mode-keys vi

#shift-movement keys will resize panes
bind -r H resize-pane -L 5
bind -r J resize-pane -D 5
bind -r K resize-pane -U 5
bind -r L resize-pane -R 5

#bind j select-pane -D
#bind k select-pane -U
#bind h select-pane -L
#bind l select-pane -R


#bind-key s set-option status                            # Включить\Выключить статус бар

# <C-a M> включает мониторинг активности
bind M setw monitor-activity on
# <C-a /> - запустить top
bind / neww 'exec top'
